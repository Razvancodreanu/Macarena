<!doctype html>
<html lang="ro">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1" />
    <title>Macarena · Live Location</title>
    <link rel="stylesheet" href="./style.css" />
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
    <!-- Leaflet CSS -->
    <link rel="stylesheet"
          href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
          integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
          crossorigin="" />
</head>

<body>
    <header class="topbar">
        <div class="brand">📍 Macarena • Live Location</div>
        <div class="controls">
            <input id="room" type="text" placeholder="ex: familia, echipa-42" />
            <button id="join">Join</button>
            <button id="share" class="secondary">Start sharing</button>
            <button id="centerMe" class="secondary">Center me</button>
        </div>
    </header>

    <main id="map"></main>

    <aside class="panel">
        <h3>Autentificare</h3>
        <p id="authStatus">Status: verific…</p>

        <div class="auth">
            <!-- OAuth Google -->
            <button id="googleBtn" class="oauth google">
                <svg viewBox="0 0 48 48" width="18" height="18" aria-hidden="true">
                    <path fill="#EA4335" d="M24 9.5c3.35 0 6.36 1.15 8.73 3.41l6.55-6.55C35.63 2.5 30.2 0 24 0 14.6 0 6.53 5.37 2.56 13.17l7.64 5.93C12.01 13.61 17.53 9.5 24 9.5z" />
                    <path fill="#4285F4" d="M46.5 24c0-1.56-.14-3.06-.41-4.5H24v9h12.7c-.55 2.93-2.2 5.42-4.7 7.08l7.2 5.57C43.9 37.9 46.5 31.45 46.5 24z" />
                    <path fill="#FBBC05" d="M10.2 19.1l-7.64-5.93C.9 15.62 0 19.68 0 24c0 4.3.9 8.35 2.56 12.03l7.64-5.93C9.37 27.37 9 25.72 9 24s.37-3.37 1.2-4.9z" />
                    <path fill="#34A853" d="M24 48c6.2 0 11.45-2.05 15.23-5.57l-7.2-5.57C29.88 38.2 27.16 39 24 39c-6.47 0-11.99-4.12-13.8-9.6l-7.64 5.93C6.53 42.63 14.6 48 24 48z" />
                </svg>
                Sign in with Google
            </button>

            <!-- Magic link -->
            <input id="email" type="email" placeholder="email pentru magic link" />
            <button id="sendLink">Trimite link</button>

            <button id="signOut" class="secondary">Sign out</button>
        </div>

        <hr />
        <div>
            Link de invitat pentru cameră:
            <div class="linkbox"><code id="roomLink">—</code></div>
        </div>
    </aside>

    <footer class="statusbar">
        <span id="roomStatus"></span>
        <span id="shareStatus"></span>
    </footer>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
            integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
            crossorigin=""></script>

    <!-- App -->
    <script type="module" src="./app.js"></script>
</body>
</html>
